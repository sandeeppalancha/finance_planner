<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Finance Tracker">
  <meta name="description" content="Personal finance tracking and planning app">
  <meta name="theme-color" content="#6d28d9">
  <meta name="application-name" content="Finance Tracker">
  
  <title>Finance Tracker</title>
  
  <!-- iOS icons -->
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="152x152" href="apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon-180x180.png">
  <link rel="apple-touch-icon" sizes="167x167" href="apple-touch-icon-167x167.png">
  
  <!-- Web App Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- CSS -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Startup Screen -->
  <div class="startup-screen" id="startupScreen">
    <div class="startup-icon">üí∞</div>
    <div class="startup-title">Finance Tracker</div>
    <div class="startup-subtitle">Your personal finance companion</div>
  </div>

  <div class="offline-banner" id="offlineBanner">
    <span>üì∂ You're offline. Changes will be saved locally.</span>
  </div>

  <header class="header">
    <h1>Finance Tracker</h1>
  </header>
  
  <main class="app-container">
    <!-- Dashboard Page -->
    <div class="page active" id="dashboardPage">
      <h2>Dashboard</h2>
      
      <div class="card">
        <div class="card-header">
          <h3>Financial Overview</h3>
        </div>
        <div class="card-body">
          <div class="summary-item">
            <span>Net Worth</span>
            <span id="netWorth">‚Çπ0</span>
          </div>
          <div class="summary-item">
            <span>Total Receivables</span>
            <span id="totalReceivables">‚Çπ0</span>
          </div>
          <div class="summary-item">
            <span>Money Lent</span>
            <span id="totalMoneyLent">‚Çπ0</span>
          </div>
          <div class="summary-item">
            <span>Total Payables</span>
            <span id="totalPayables">‚Çπ0</span>
          </div>
          <div class="summary-item">
            <span>Total Loans</span>
            <span id="totalLoans">‚Çπ0</span>
          </div>
          <div class="summary-item">
            <span>Monthly EMIs</span>
            <span id="totalEMIs">‚Çπ0</span>
          </div>
          <div class="summary-item">
            <span>Total Investments</span>
            <span id="totalInvestments">‚Çπ0</span>
          </div>
          <div class="summary-item">
            <span>Total Chits</span>
            <span id="totalChits">‚Çπ0</span>
          </div>
          <div class="summary-item">
            <span>Gold (grams)</span>
            <span id="totalGoldWeight">0g</span>
          </div>
          <div class="summary-item">
            <span>Bank Balance</span>
            <span id="totalBankBalance">‚Çπ0</span>
          </div>
        </div>
      </div>
      
      <div class="card">
        <div class="card-header">
          <h3>Receivables</h3>
          <a href="#" onclick="switchSubPage('receivablesPage')">View All</a>
        </div>
        <div class="card-body">
          <table class="table" id="dashboardReceivablesTable">
            <thead>
              <tr>
                <th>From</th>
                <th>Amount</th>
                <th>Due Date</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="card">
        <div class="card-header">
          <h3>Money Lent</h3>
          <a href="#" onclick="switchSubPage('moneyLentPage')">View All</a>
        </div>
        <div class="card-body">
          <table class="table" id="dashboardMoneyLentTable">
            <thead>
              <tr>
                <th>To</th>
                <th>Amount</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="card">
        <div class="card-header">
          <h3>Payables</h3>
          <a href="#" onclick="switchSubPage('payablesPage')">View All</a>
        </div>
        <div class="card-body">
          <table class="table" id="dashboardPayablesTable">
            <thead>
              <tr>
                <th>To</th>
                <th>Amount</th>
                <th>Due Date</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Loans</h3>
          <a href="#" onclick="switchSubPage('loansPage')">View All</a>
        </div>
        <div class="card-body">
          <table class="table" id="dashboardLoansTable">
            <thead>
              <tr>
                <th>Name</th>
                <th>EMI</th>
                <th>Remaining EMIs</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    
    <!-- Receivables Page -->
    <div class="page" id="receivablesPage">
      <h2>Receivables</h2>
      <div class="card">
        <div class="card-header">
          <h3>All Receivables</h3>
        </div>
        <div class="card-body">
          <table class="table" id="receivablesTable">
            <thead>
              <tr>
                <th>From</th>
                <th>Amount</th>
                <th>Due Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="add-button" id="addReceivableBtn">+</div>
    </div>
    
    <!-- Payables Page -->
    <div class="page" id="payablesPage">
      <h2>Payables</h2>
      <div class="card">
        <div class="card-header">
          <h3>All Payables</h3>
        </div>
        <div class="card-body">
          <table class="table" id="payablesTable">
            <thead>
              <tr>
                <th>To</th>
                <th>Amount</th>
                <th>Due Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="add-button" id="addPayableBtn">+</div>
    </div>
    
    <!-- Investments Page -->
    <div class="page" id="investmentsPage">
      <div class="page-header">
        <h2>Investments</h2>
      </div>
      
      <div class="page-tabs">
        <a href="#" class="page-tab active" onclick="switchInvestmentTab('regular')">Regular Investments</a>
        <a href="#" class="page-tab" onclick="switchInvestmentTab('gold')">Gold Items</a>
      </div>
      
      <!-- Regular Investments Tab -->
      <div class="investment-tab active" id="regularInvestmentsTab">
        <div class="card">
          <div class="card-header">
            <h3>All Investments</h3>
          </div>
          <div class="card-body">
            <table class="table" id="investmentsTable">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Type</th>
                  <th>Amount</th>
                  <th>Frequency</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Data will be loaded dynamically -->
              </tbody>
            </table>
          </div>
        </div>
        <div class="add-button" id="addInvestmentBtn">+</div>
      </div>
      
      <!-- Gold Items Tab -->
      <div class="investment-tab" id="goldInvestmentsTab">
        <div class="card">
          <div class="card-header">
            <h3>Gold Items</h3>
          </div>
          <div class="card-body">
            <table class="table" id="goldItemsTable">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th>Type</th>
                  <th>Weight (g)</th>
                  <th>Used By</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Will be populated from localStorage -->
              </tbody>
            </table>
          </div>
        </div>
        <div class="add-button" id="addGoldItemBtn">+</div>
      </div>
    </div>
    
    <!-- Budgets Page -->
    <div class="page" id="budgetsPage">
      <div class="page-header">
        <h2>Budget Plans</h2>
      </div>
      
      <div class="card">
        <div class="card-header">
          <h3>All Budget Plans</h3>
        </div>
        <div class="card-body">
          <table class="table" id="budgetsTable">
            <thead>
              <tr>
                <th>Name</th>
                <th>Target</th>
                <th>Target Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="add-button" id="addBudgetBtn">+</div>
    </div>
    
    <!-- Accounts Page -->
    <div class="page" id="accountsPage">
      <div class="page-header">
        <h2>Bank Accounts</h2>
      </div>
      
      <div class="card">
        <div class="card-header">
          <h3>All Accounts</h3>
        </div>
        <div class="card-body">
          <table class="table" id="accountsTable">
            <thead>
              <tr>
                <th>Bank</th>
                <th>Account Number</th>
                <th>Balance</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <!-- Will be populated from localStorage -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="add-button" id="addAccountBtn">+</div>
    </div>
    
    <!-- Money Lent Page -->
    <div class="page" id="moneyLentPage">
      <div class="page-header">
        <h2>Money Lent</h2>
      </div>
      
      <div class="card">
        <div class="card-header">
          <h3>All Money Lent</h3>
        </div>
        <div class="card-body">
          <table class="table" id="moneyLentTable">
            <thead>
              <tr>
                <th>To</th>
                <th>Amount</th>
                <th>Date</th>
                <th>Notes</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <!-- Will be populated from localStorage -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="add-button" id="addMoneyLentBtn">+</div>
    </div>
    
    <!-- Chits Page -->
    <div class="page" id="chitsPage">
      <div class="page-header">
        <h2>Chits</h2>
      </div>
      
      <div class="card">
        <div class="section-title">
          <h3>Active Chits</h3>
        </div>
        <div class="item-list" id="chitsList">
          <!-- Will be dynamically generated from localStorage -->
        </div>
        
        <div class="section-title">
          <h3>Upcoming Maturities</h3>
        </div>
        <div class="maturity-list">
          <!-- Will be dynamically generated from localStorage -->
        </div>
      </div>
      <div class="add-button" id="addChitBtn">+</div>
    </div>
    
    <!-- Past Expenses Page -->
    <div class="page" id="pastExpensesPage">
      <div class="page-header">
        <h2>Past Expenses</h2>
      </div>
      
      <div class="card">
        <div class="section-title">
          <h3>Recent Major Expenses</h3>
        </div>
        <div class="item-list" id="pastExpensesList">
          <!-- Will be dynamically generated from localStorage -->
        </div>
        <div class="table-footer" id="pastExpensesTotalRow">
          <span class="total-label">Total</span>
          <span class="total-amount">‚Çπ0</span>
        </div>
      </div>
      <div class="add-button" id="addPastExpenseBtn">+</div>
    </div>
    
    <!-- Upcoming Expenses Page -->
    <div class="page" id="upcomingExpensesPage">
      <div class="page-header">
        <h2>Upcoming Expenses</h2>
      </div>
      
      <div class="card">
        <div class="section-title">
          <h3>Planned Major Expenses</h3>
        </div>
        <div class="item-list" id="upcomingExpensesList">
          <!-- Will be dynamically generated from localStorage -->
        </div>
        <div class="table-footer" id="upcomingExpensesTotalRow">
          <span class="total-label">Total</span>
          <span class="total-amount">‚Çπ0</span>
        </div>
      </div>
      <div class="add-button" id="addUpcomingExpenseBtn">+</div>
    </div>

    <!-- Loans Page -->
    <div class="page" id="loansPage">
      <div class="page-header">
        <h2>Loans</h2>
      </div>
      
      <div class="card">
        <div class="card-header">
          <h3>All Loans</h3>
        </div>
        <div class="card-body">
          <table class="table" id="loansTable">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>EMI (‚Çπ)</th>
                <th>Remaining EMIs</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <!-- Data will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="add-button" id="addLoanBtn">+</div>
    </div>
  </main>
  
  <!-- Tab Navigation -->
  <nav class="tab-bar">
    <a href="#" class="tab active" onclick="switchPage('dashboardPage')">
      <span class="tab-icon">üìä</span>
      <span>Dashboard</span>
    </a>
    <a href="#" class="tab" onclick="switchPage('moneyPage')">
      <span class="tab-icon">üí∏</span>
      <span>Money</span>
    </a>
    <a href="#" class="tab" onclick="switchPage('investmentsPage')">
      <span class="tab-icon">üìà</span>
      <span>Invest</span>
    </a>
    <a href="#" class="tab" onclick="switchPage('planningPage')">
      <span class="tab-icon">üìù</span>
      <span>Planning</span>
    </a>
  </nav>
  
  <!-- Include Modals -->
  <div id="modals-container">
    <!-- Receivable Modal -->
<div class="modal" id="receivableModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="receivableModalTitle">Add Receivable</h3>
      <button class="close-modal" onclick="hideModal('receivableModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="receivableForm">
        <input type="hidden" id="receivableId">
        <div class="form-group">
          <label class="form-label" for="receivableFrom">From</label>
          <input type="text" id="receivableFrom" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="receivableAmount">Amount (‚Çπ)</label>
          <input type="number" id="receivableAmount" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="receivableDueDate">Due Date</label>
          <input type="date" id="receivableDueDate" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="receivableDescription">Description (Optional)</label>
          <input type="text" id="receivableDescription" class="form-input">
        </div>
        <button type="submit" class="button">Save Receivable</button>
      </form>
    </div>
  </div>
</div>

<!-- Payable Modal -->
<div class="modal" id="payableModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="payableModalTitle">Add Payable</h3>
      <button class="close-modal" onclick="hideModal('payableModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="payableForm">
        <input type="hidden" id="payableId">
        <div class="form-group">
          <label class="form-label" for="payableTo">To</label>
          <input type="text" id="payableTo" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="payableAmount">Amount (‚Çπ)</label>
          <input type="number" id="payableAmount" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="payableDueDate">Due Date</label>
          <input type="date" id="payableDueDate" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="payableDescription">Description (Optional)</label>
          <input type="text" id="payableDescription" class="form-input">
        </div>
        <button type="submit" class="button">Save Payable</button>
      </form>
    </div>
  </div>
</div>

<!-- Investment Modal -->
<div class="modal" id="investmentModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="investmentModalTitle">Add Investment</h3>
      <button class="close-modal" onclick="hideModal('investmentModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="investmentForm">
        <input type="hidden" id="investmentId">
        <div class="form-group">
          <label class="form-label" for="investmentName">Investment Name</label>
          <input type="text" id="investmentName" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="investmentAmount">Amount (‚Çπ)</label>
          <input type="number" id="investmentAmount" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="investmentType">Type</label>
          <select id="investmentType" class="form-input">
            <option value="">Select Type</option>
            <option value="Equity">Equity</option>
            <option value="MutualFund">Mutual Fund</option>
            <option value="FixedDeposit">Fixed Deposit</option>
            <option value="Gold">Gold</option>
            <option value="RealEstate">Real Estate</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Investment Type</label>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="investmentRecurring" id="investmentOneTime" value="false" checked>
              One-time
            </label>
            <label class="radio-label">
              <input type="radio" name="investmentRecurring" id="investmentRecurring" value="true">
              Recurring
            </label>
          </div>
        </div>
        <div id="recurringInvestmentFields" style="display: none;">
          <div class="form-group">
            <label class="form-label" for="investmentFrequency">Frequency</label>
            <select id="investmentFrequency" class="form-input">
              <option value="monthly">Monthly</option>
              <option value="quarterly">Quarterly</option>
              <option value="yearly">Yearly</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="investmentStartDate">Start Date</label>
            <input type="date" id="investmentStartDate" class="form-input">
          </div>
          <div class="form-group">
            <label class="form-label" for="investmentEndDate">End Date (Optional)</label>
            <input type="date" id="investmentEndDate" class="form-input">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label" for="investmentDescription">Description (Optional)</label>
          <input type="text" id="investmentDescription" class="form-input">
        </div>
        <button type="submit" class="button">Save Investment</button>
      </form>
    </div>
  </div>
</div>

<!-- Budget Modal -->
<div class="modal" id="budgetModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="budgetModalTitle">Add Budget</h3>
      <button class="close-modal" onclick="hideModal('budgetModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="budgetForm">
        <input type="hidden" id="budgetId">
        <div class="form-group">
          <label class="form-label" for="budgetName">Budget Name</label>
          <input type="text" id="budgetName" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="budgetTargetAmount">Target Amount (‚Çπ)</label>
          <input type="number" id="budgetTargetAmount" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="budgetCategory">Category</label>
          <select id="budgetCategory" class="form-input">
            <option value="">Select Category</option>
            <option value="Car">Car</option>
            <option value="House">House</option>
            <option value="Education">Education</option>
            <option value="Travel">Travel</option>
            <option value="Emergency">Emergency</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label" for="budgetDeadline">Target Date</label>
          <input type="date" id="budgetDeadline" class="form-input" required>
        </div>
        <button type="submit" class="button">Save Budget</button>
      </form>
    </div>
  </div>
</div>

<!-- Account Modal -->
<div class="modal" id="accountModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="accountModalTitle">Add Bank Account</h3>
      <button class="close-modal" onclick="hideModal('accountModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="accountForm">
        <input type="hidden" id="accountId">
        <div class="form-group">
          <label class="form-label" for="accountName">Bank Name</label>
          <input type="text" id="accountName" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="accountNumber">Account Number</label>
          <input type="text" id="accountNumber" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="accountBalance">Current Balance (‚Çπ)</label>
          <input type="number" id="accountBalance" class="form-input" required>
        </div>
        <button type="submit" class="button">Save Account</button>
      </form>
    </div>
  </div>
</div>

<!-- Chit Modal -->
<div class="modal" id="chitModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="chitModalTitle">Add Chit</h3>
      <button class="close-modal" onclick="hideModal('chitModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="chitForm">
        <input type="hidden" id="chitId">
        <div class="form-group">
          <label class="form-label" for="chitName">Chit Name</label>
          <input type="text" id="chitName" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="chitAmount">Monthly Amount (‚Çπ)</label>
          <input type="number" id="chitAmount" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="chitStartMonth">Start Month</label>
          <select id="chitStartMonth" class="form-input" required>
            <option value="">Select Month</option>
            <option value="0">January</option>
            <option value="1">February</option>
            <option value="2">March</option>
            <option value="3">April</option>
            <option value="4">May</option>
            <option value="5">June</option>
            <option value="6">July</option>
            <option value="7">August</option>
            <option value="8">September</option>
            <option value="9">October</option>
            <option value="10">November</option>
            <option value="11">December</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label" for="chitStartYear">Start Year</label>
          <input type="number" id="chitStartYear" class="form-input" required min="2020" max="2050" value="2025">
        </div>
        <div class="form-group">
          <label class="form-label" for="chitDuration">Duration (Months)</label>
          <input type="number" id="chitDuration" class="form-input" required min="1" max="120">
        </div>
        <div class="form-group">
          <label class="form-label" for="chitDescription">Description (Optional)</label>
          <input type="text" id="chitDescription" class="form-input">
        </div>
        <button type="submit" class="button">Save Chit</button>
      </form>
    </div>
  </div>
</div>

<!-- Money Lent Modal -->
<div class="modal" id="moneyLentModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="moneyLentModalTitle">Add Money Lent</h3>
      <button class="close-modal" onclick="hideModal('moneyLentModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="moneyLentForm">
        <input type="hidden" id="moneyLentId">
        <div class="form-group">
          <label class="form-label" for="moneyLentTo">Lent To</label>
          <input type="text" id="moneyLentTo" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="moneyLentAmount">Amount (‚Çπ)</label>
          <input type="number" id="moneyLentAmount" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="moneyLentDate">Date</label>
          <input type="date" id="moneyLentDate" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="moneyLentDescription">Description (Optional)</label>
          <input type="text" id="moneyLentDescription" class="form-input">
        </div>
        <button type="submit" class="button">Save Money Lent</button>
      </form>
    </div>
  </div>
</div>

<!-- Past Expense Modal -->
<div class="modal" id="pastExpenseModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="pastExpenseModalTitle">Add Past Expense</h3>
      <button class="close-modal" onclick="hideModal('pastExpenseModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="pastExpenseForm">
        <input type="hidden" id="pastExpenseId">
        <div class="form-group">
          <label class="form-label" for="pastExpenseName">Expense Name</label>
          <input type="text" id="pastExpenseName" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="pastExpenseAmount">Amount (‚Çπ)</label>
          <input type="number" id="pastExpenseAmount" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="pastExpenseDate">Date</label>
          <input type="date" id="pastExpenseDate" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="pastExpenseCategory">Category</label>
          <select id="pastExpenseCategory" class="form-input">
            <option value="">Select Category</option>
            <option value="Car">Car</option>
            <option value="House">House</option>
            <option value="Electronics">Electronics</option>
            <option value="Education">Education</option>
            <option value="Travel">Travel</option>
            <option value="Healthcare">Healthcare</option>
            <option value="Home Appliances">Home Appliances</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label" for="pastExpenseDescription">Description (Optional)</label>
          <input type="text" id="pastExpenseDescription" class="form-input">
        </div>
        <button type="submit" class="button">Save Past Expense</button>
      </form>
    </div>
  </div>
</div>

<!-- Upcoming Expense Modal -->
<div class="modal" id="upcomingExpenseModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="upcomingExpenseModalTitle">Add Upcoming Expense</h3>
      <button class="close-modal" onclick="hideModal('upcomingExpenseModal')">&times;</button>
    </div>
    <div class="modal-body">
      <form id="upcomingExpenseForm">
        <input type="hidden" id="upcomingExpenseId">
        <div class="form-group">
          <label class="form-label" for="upcomingExpenseName">Expense Name</label>
          <input type="text" id="upcomingExpenseName" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="upcomingExpenseAmount">Amount (‚Çπ)</label>
          <input type="number" id="upcomingExpenseAmount" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="upcomingExpenseDate">Expected Date</label>
          <input type="date" id="upcomingExpenseDate" class="form-input" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="upcomingExpenseCategory">Category</label>
          <select id="upcomingExpenseCategory" class="form-input">
            <option value="">Select Category</option>
            <option value="Car">Car</option>
            <option value="House">House</option>
            <option value="Electronics">Electronics</option>
            <option value="Education">Education</option>
            <option value="Travel">Travel</option>
            <option value="Healthcare">Healthcare</option>
            <option value="Home Appliances">Home Appliances</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label" for="upcomingExpenseDescription">Description (Optional)</label>
          <input type="text" id="upcomingExpenseDescription" class="form-input">
        </div>
        <button type="submit" class="button">Save Upcoming Expense</button>
      </form>
    </div>
  </div>
</div>

  <!-- Gold Item Modal -->
  <div class="modal" id="goldItemModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="goldItemModalTitle">Add Gold Item</h3>
        <button class="close-modal" onclick="hideModal('goldItemModal')">&times;</button>
      </div>
      <div class="modal-body">
        <form id="goldItemForm">
          <input type="hidden" id="goldItemId">
          <div class="form-group">
            <label class="form-label" for="goldItemName">Item Name</label>
            <input type="text" id="goldItemName" class="form-input" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="goldItemType">Type</label>
            <select id="goldItemType" class="form-input" required>
              <option value="">Select Type</option>
              <option value="Necklace">Necklace</option>
              <option value="Earrings">Earrings</option>
              <option value="Bangles">Bangles</option>
              <option value="Ring">Ring</option>
              <option value="Coin">Coin</option>
              <option value="Bar">Bar</option>
              <option value="Chain">Chain</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="goldItemWeight">Weight (grams)</label>
            <input type="number" id="goldItemWeight" class="form-input" step="0.01" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="goldItemUser">Used By</label>
            <input type="text" id="goldItemUser" class="form-input" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="goldItemDescription">Description (Optional)</label>
            <input type="text" id="goldItemDescription" class="form-input">
          </div>
          <button type="submit" class="button">Save Gold Item</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Loan Modal -->
  <div class="modal" id="loanModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="loanModalTitle">Add Loan</h3>
        <button class="close-modal" onclick="hideModal('loanModal')">&times;</button>
      </div>
      <div class="modal-body">
        <form id="loanForm">
          <input type="hidden" id="loanId">
          <div class="form-group">
            <label class="form-label" for="loanName">Loan Name</label>
            <input type="text" id="loanName" class="form-input" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="loanType">Type</label>
            <select id="loanType" class="form-input" required>
              <option value="">Select Type</option>
              <option value="Personal">Personal</option>
              <option value="Home">Home</option>
              <option value="Car">Car</option>
              <option value="Education">Education</option>
              <option value="Business">Business</option>
              <option value="Gold">Gold</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="loanAmount">Total Loan Amount (‚Çπ)</label>
            <input type="number" id="loanAmount" class="form-input" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="loanEMI">Monthly EMI (‚Çπ)</label>
            <input type="number" id="loanEMI" class="form-input" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="loanStartDate">Start Date</label>
            <input type="date" id="loanStartDate" class="form-input" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="loanTotalEMIs">Total Number of EMIs</label>
            <input type="number" id="loanTotalEMIs" class="form-input" required min="1">
          </div>
          <div class="form-group">
            <label class="form-label" for="loanInterestRate">Interest Rate (% p.a.)</label>
            <input type="number" id="loanInterestRate" class="form-input" step="0.01">
          </div>
          <div class="form-group">
            <label class="form-label" for="loanLender">Lender</label>
            <input type="text" id="loanLender" class="form-input" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="loanDescription">Description (Optional)</label>
            <input type="text" id="loanDescription" class="form-input">
          </div>
          <button type="submit" class="button">Save Loan</button>
        </form>
      </div>
    </div>
  </div>
</div>
  
  <!-- JavaScript -->
  <script src="constants.js"></script>
  <script src="utils.js"></script>
  <script src="navigation.js"></script>
  <script src="loaders.js"></script>
  <script src="forms.js"></script>
  <script src="app.js"></script>
  
  <!-- Initialize Button Event Listeners -->
  <script>
    // Setup event listeners for add buttons after page loads
    document.addEventListener('DOMContentLoaded', function() {
      // Get all add buttons
      const addButtons = {
        'addReceivableBtn': 'receivableModal',
        'addPayableBtn': 'payableModal',
        'addInvestmentBtn': 'investmentModal',
        'addGoldItemBtn': 'goldItemModal',
        'addBudgetBtn': 'budgetModal',
        'addAccountBtn': 'accountModal',
        'addChitBtn': 'chitModal',
        'addMoneyLentBtn': 'moneyLentModal',
        'addPastExpenseBtn': 'pastExpenseModal',
        'addUpcomingExpenseBtn': 'upcomingExpenseModal'
      };
      
      // Add click listeners to each button
      for (const [buttonId, modalId] of Object.entries(addButtons)) {
        const button = document.getElementById(buttonId);
        if (button) {
          button.addEventListener('click', function() {
            if (typeof safeShowModal === 'function') {
              safeShowModal(modalId);
            } else {
              console.error('safeShowModal function not defined');
              // alert('App is still loading. Please try again in a moment.');
            }
          });
        }
      }
    });
  </script>
</body>
</html>